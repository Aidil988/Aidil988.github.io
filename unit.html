<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap.min.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.datatables.net/fixedheader/3.2.0/css/fixedHeader.bootstrap.min.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap.min.css"
  />
  <title>UPDATE POPULASI UNIT DT HAULING PT.XXXX</title>

  <style>
    th {
      text-align: center;
      background-color: #007BFF;
      color: black;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <h3 class="text-center mb-4">UPDATE POPULASI UNIT DT HAULING PT.XXXX</h3>
        <p class="text-center">SAFETY FIRST TETAP HATI - HATI UTAMAKAN KESELAMATAN GUNAKAN APD YANG LENGKAP SEMANGAT</p>
        <p class="text-center" id="datetime"></p>
        <p class="text-center" id="totalData"></p> <!-- Total data placeholder -->
        <br>
        <br>
        <br>
        <br>
        <table
          id="example"
          class="table table-striped table-bordered mt-2 mb-2"
          style="width: 90%; max-width: 800px; margin: 0 auto;"
        ></table>
        <br />
        <br />
        <p id="passingGrade"></p>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap.min.js"></script>
  <script src="https://cdn.datatables.net/fixedheader/3.2.0/js/dataTables.fixedHeader.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <script type="text/javascript">
    // Function to update date and time
    function updateDateTime() {
      var now = new Date();
      var day = ('0' + now.getDate()).slice(-2);
      var month = ('0' + (now.getMonth() + 1)).slice(-2);
      var year = now.getFullYear();
      var hours = ('0' + now.getHours()).slice(-2);
      var minutes = ('0' + now.getMinutes()).slice(-2);
      var seconds = ('0' + now.getSeconds()).slice(-2);
      var dateTimeString = day + '/' + month + '/' + year + ' ' + hours + ':' + minutes + ':' + seconds;
      document.getElementById('datetime').innerText = 'Tanggal Dan Waktu: ' + dateTimeString;
    }

    // Function to reload the page every 10 seconds
    function reloadPage() {
      location.reload();
    }

    // Reload the page every 10 seconds
    setInterval(reloadPage, 60000);

    // Update date and time initially
    updateDateTime();

    // Update date and time every second
    setInterval(updateDateTime, 1000);

    $(document).ready(function () {
      var table = $("#example").DataTable({
        ajax: "https://script.google.com/macros/s/AKfycbyvWpVK2LG9PY4c3PWwf5xNesAYPZCdMYRUktRDu5RLpay6mR5YR-PP0kxRFNilJlORKQ/exec",
        columns: [
          {
            title: "No",
            data: "no",
          },
          {
            title: "No Unit",
            data: "no unit",
          },
          {
            title: "Nama Operator",
            data: "nama operator",
          },
          {
            title: "Shift",
            data: "shift",
          },
          {
            title: "Kondisi",
            data: "kondisi",
          },
          {
            title: "Kerusakan",
            data: "kerusakan",
          },
          {
            title: "Lokasi",
            data: "lokasi",
          },
          {
            title: "Keterangan",
            data: "keterangan",
          },
        ],
        rowId: "unit",
        paging: false,  
        scrollY: "500px",
      });

      // Menampilkan total data di atas tabel
      table.on('xhr', function () {
        var info = table.page.info();
        
      });
    });
  </script>
</body>
</html>
